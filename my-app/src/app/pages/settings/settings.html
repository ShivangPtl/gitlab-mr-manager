<app-navbar></app-navbar>
<div class="settings-container">
  <h1>Settings</h1>

  <section class="projects">
    <h2>Projects</h2>
    <table>
      <thead>
        <tr>
          <th>Select</th>
          <th>Project Name</th>
          <th>Local Path</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let project of projects">
          <td><input type="checkbox" [(ngModel)]="project.is_selected"></td>
          <td>{{ project.project_name }}</td>
          <td>{{ project.local_repo_path || 'Not Set' }}</td>
          <td><button (click)="browseFolder(project)">Browse</button></td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="defaults">
    <h2>Default Options</h2>
    <label>
      Target Branch:
      <input type="text" [(ngModel)]="defaultBranch">
    </label>
    <label>
      Default Assignee:
      <select [(ngModel)]="selectedAssigneeId">
        <option *ngFor="let user of assignees" [value]="user.user_id">{{ user.user_name }}</option>
      </select>
    </label>
    <label>
      Default Reviewer:
      <select [(ngModel)]="selectedReviewerId">
        <option *ngFor="let user of reviewers" [value]="user.user_id">{{ user.user_name }}</option>
      </select>
    </label>
  </section>

  <section class="labels">
    <h2>Labels</h2>
    <label *ngFor="let label of labels">
      <input type="checkbox" [(ngModel)]="label.is_selected"> {{ label.name }}
    </label>
  </section>

  <div class="actions">
    <button (click)="save()">Save Settings</button>
  </div>
</div>